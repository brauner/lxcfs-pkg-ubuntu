From 652bf09d6fba25d98d85760b6ae2f6bcb0e32a8f Mon Sep 17 00:00:00 2001
From: =?UTF-8?q?St=C3=A9phane=20Graber?= <stgraber@ubuntu.com>
Date: Mon, 12 Jan 2015 13:16:19 -0500
Subject: tests: Fix return value
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

Signed-off-by: St√©phane Graber <stgraber@ubuntu.com>
---
 tests/test_cgroup | 3 +--
 tests/test_proc   | 3 +--
 2 files changed, 2 insertions(+), 4 deletions(-)

diff --git a/tests/test_cgroup b/tests/test_cgroup
index 6d6ff76..d5ad7a4 100755
--- a/tests/test_cgroup
+++ b/tests/test_cgroup
@@ -3,8 +3,7 @@
 PASS=0
 
 cleanup() {
-    [ "$PASS" = "1" ] || echo FAIL
-    exit 1
+    [ "$PASS" = "1" ] || (echo FAIL && exit 1)
 }
 
 trap cleanup EXIT HUP INT TERM
diff --git a/tests/test_proc b/tests/test_proc
index 0b114d1..0c42892 100755
--- a/tests/test_proc
+++ b/tests/test_proc
@@ -3,8 +3,7 @@
 PASS=0
 
 cleanup() {
-    [ "$PASS" = "1" ] || echo FAIL
-    exit 1
+    [ "$PASS" = "1" ] || (echo FAIL && exit 1)
 }
 
 trap cleanup EXIT HUP INT TERM
